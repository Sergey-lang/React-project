{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","u3-pages/Users/Users.module.css","u2-components/common/Paginator/Paginator.module.css","u3-pages/Users/User/User.module.css","u1-assets/images/user.png","u2-components/common/Paginator/Paginator.jsx","u3-pages/Users/User/User.jsx","u3-pages/Users/Users.jsx","u4-redux/users-selectors.js","u3-pages/Users/UsersContainer.jsx"],"names":["_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","_slicedToArray","arr","Array","isArray","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","err","unsupportedIterableToArray","TypeError","module","exports","Paginator","currentPage","onPageChanged","totalItemsCount","pageSize","portionSize","pageCount","Math","ceil","pages","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","onClick","filter","p","map","id","className","classnames","s","selectPage","pageNumber","e","User","user","followingInProgress","unfollow","follow","userBlock","to","alt","avatar","src","photos","small","userPhoto","userName","name","followed","disabled","some","unfollow_button","follow_button","Users","totalUsersCount","users","props","users_wrapper","paginator","u","getUsers","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersContainer","requestUsers","setCurrentPage","this","Preloader","React","Component","compose","connect","toggleFollowingProgress"],"mappings":"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","file":"static/js/5.a9910410.chunk.js","sourcesContent":["import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users_wrapper\":\"Users_users_wrapper__1d5ST\",\"paginator\":\"Users_paginator__20Cua\",\"users\":\"Users_users__2A0pn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectPage\":\"Paginator_selectPage__2FlCc\",\"pageNumber\":\"Paginator_pageNumber__2e-IH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userBlock\":\"User_userBlock__2Hl4G\",\"avatar\":\"User_avatar__3eIk1\",\"userName\":\"User_userName__2H5Mq\"};","module.exports = __webpack_public_path__ + \"static/media/user.abb5b607.png\";","import React, {useState} from 'react'\r\nimport classnames from 'classnames'\r\n\r\nimport s from './Paginator.module.css'\r\n\r\nexport const Paginator = ({currentPage, onPageChanged, totalItemsCount, pageSize, portionSize = 10, ...props}) => {\r\n\r\n   const pageCount = Math.ceil(totalItemsCount / pageSize)\r\n\r\n   const pages = []\r\n   for (let i = 1; i <= pageCount; i++) {\r\n      pages.push(i)\r\n   }\r\n\r\n   const portionCount = Math.ceil(pageCount / portionSize)\r\n   const [portionNumber, setPortionNumber] = useState(1)\r\n   const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n   const rightPortionPageNumber = portionNumber * portionSize + 1\r\n\r\n   const prevPortionNumberHandler = () => {\r\n      setPortionNumber(portionNumber - 1)\r\n   }\r\n\r\n   const nextPortionNumberHandler = () => setPortionNumber(portionNumber + 1)\r\n\r\n   return (\r\n       <div>\r\n          {portionNumber > 1\r\n          && <button onClick={prevPortionNumberHandler}>PREV</button>}\r\n          {pages\r\n              .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n              .map(p => {\r\n                 return <span key={p.id}\r\n                              className={classnames({\r\n                                 [s.selectPage]: currentPage === p\r\n                              }, s.pageNumber)}\r\n                              onClick={(e) => {\r\n                                 onPageChanged(p)\r\n                              }}>{p}</span>\r\n              })}\r\n          {portionCount > portionNumber\r\n          && <button onClick={nextPortionNumberHandler}>NEXT</button>}\r\n       </div>\r\n   )\r\n}\r\n","import React from 'react';\r\nimport s from './User.module.css';\r\nimport userPhoto from '../../../u1-assets/images/user.png'\r\nimport {NavLink} from 'react-router-dom';\r\nimport {Button} from 'antd';\r\n\r\nexport const User = ({user, followingInProgress, unfollow, follow, ...props}) => {\r\n\r\n    return (\r\n        <div className={s.userBlock}>\r\n            <div>\r\n                <NavLink to={'/profile/' + user.id}>\r\n                    <img alt={'user'} className={s.avatar}\r\n                         src={user.photos.small != null ? user.photos.small : userPhoto}/>\r\n                </NavLink>\r\n            </div>\r\n            <div>\r\n                <div className={s.userName}>{user.name}</div>\r\n            </div>\r\n            <div>\r\n                {user.followed\r\n                    ? <Button disabled={followingInProgress.some(id => id === user.id)}\r\n                              className={s.unfollow_button}\r\n                              onClick={() => {\r\n                                  unfollow(user.id)\r\n                              }}>Unfollow</Button>\r\n                    :\r\n                    <Button disabled={followingInProgress.some(id => id === user.id)}\r\n                            className={s.follow_button}\r\n                            onClick={() => {\r\n                                follow(user.id)\r\n                            }}>Follow</Button>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React from 'react'\r\nimport s from './Users.module.css'\r\nimport {Paginator} from '../../u2-components/common/Paginator/Paginator'\r\nimport {User} from './User/User'\r\n\r\nexport const Users = ({currentPage, onPageChanged, totalUsersCount, pageSize, users, ...props}) => {\r\n\r\n    return (\r\n        <div className={s.users_wrapper}>\r\n            <div className={s.paginator}>\r\n                <Paginator currentPage={currentPage}\r\n                           onPageChanged={onPageChanged}\r\n                           totalItemsCount={totalUsersCount}\r\n                           pageSize={pageSize}\r\n                />\r\n            </div>\r\n            <div className={s.users}>\r\n                {users.map((u, i) => <User user={u}\r\n                                           followingInProgress={props.followingInProgress}\r\n                                           key={`${u.id}_${i}`}\r\n                                           unfollow={props.unfollow}\r\n                                           follow={props.follow}/>)\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","export const getUsers = (state) => {\r\n   return state.usersPage.users\r\n}\r\nexport const getPageSize = (state) => {\r\n   return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n   return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state) => {\r\n   return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state) => {\r\n   return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n   return state.usersPage.followingInProgress\r\n}\r\n\r\n//RESELECT library example\r\n//can get 3 dependency\r\n/*const SuperUserSelector = createSelector(getUsers,(users)=>{\r\n   return users.filter(u => true)\r\n})*/\r\n//can get 3 dependency\r\n/*const SuperUserSelector2 = createSelector(getUsers,getCurrentPage,(users,currentPage)=>{\r\n   return users.filter(u => true)\r\n})*/","import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {follow, requestUsers, setCurrentPage, toggleFollowingProgress, unfollow,} from '../../u4-redux/users-reducer'\r\nimport {Users} from './Users'\r\nimport {Preloader} from '../../u2-components/common/preloader/Preloader'\r\nimport {compose} from 'redux'\r\nimport {\r\n   getCurrentPage,\r\n   getFollowingInProgress,\r\n   getIsFetching,\r\n   getPageSize,\r\n   getTotalUsersCount,\r\n   getUsers,\r\n} from '../../u4-redux/users-selectors'\r\n\r\nclass UsersContainer extends React.Component {\r\n   componentDidMount() {\r\n      const {currentPage, pageSize} = this.props\r\n      this.props.requestUsers(currentPage, pageSize)\r\n   }\r\n\r\n   onPageChanged = (pageNumber) => {\r\n      const {pageSize} = this.props\r\n      this.props.requestUsers(pageNumber, pageSize)\r\n      this.props.setCurrentPage(pageNumber)\r\n   }\r\n\r\n   render() {\r\n      return <>\r\n         {this.props.isFetching ? <Preloader/> : null}\r\n         <Users pageSize={this.props.pageSize}\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}\r\n                users={this.props.users}\r\n                unfollow={this.props.unfollow}\r\n                follow={this.props.follow}\r\n                followingInProgress={this.props.followingInProgress}\r\n         />\r\n      </>\r\n   }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n   return {\r\n      users: getUsers(state),\r\n      pageSize: getPageSize(state),\r\n      totalUsersCount: getTotalUsersCount(state),\r\n      currentPage: getCurrentPage(state),\r\n      isFetching: getIsFetching(state),\r\n      followingInProgress: getFollowingInProgress(state)\r\n   }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n       follow, unfollow, setCurrentPage,\r\n       toggleFollowingProgress, requestUsers,\r\n    }),\r\n)(UsersContainer)"],"sourceRoot":""}